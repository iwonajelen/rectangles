(this.webpackJsonprectangles=this.webpackJsonprectangles||[]).push([[0],{33:function(t,e,n){},34:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var r,a=n(0),i=n.n(a),c=n(19),o=n.n(c),s=(n(33),n(34),n(16)),h=n(3),d=n(17),j=n(18),u=j.c,l=n(9),b=n(12),x=n.n(b),p=n(20),g=n(11);!function(t){t.idle="idle",t.loading="loading",t.failed="failed"}(r||(r={}));var f,O={id:"",project:{id:"",name:"",width:0,height:0,items:[]}},m={error:0,message:""},v={projectData:O,status:r.idle,error:m},w=Object(g.b)("projects/fetchById",function(){var t=Object(p.a)(x.a.mark((function t(e,n){var r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://recruitment01.vercel.app/api/project/".concat(e));case 2:if((r=t.sent).ok){t.next=9;break}return t.t0=n,t.next=7,r.json();case 7:return t.t1=t.sent,t.abrupt("return",t.t0.rejectWithValue.call(t.t0,t.t1));case 9:return t.next=11,r.json();case 11:return a=t.sent,t.abrupt("return",a);case 13:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),y=(Object(g.b)("projects/init",Object(p.a)(x.a.mark((function t(){var e;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://recruitment01.vercel.app/api/init");case 2:return e=t.sent,t.next=5,e.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})))),Object(g.b)("projects/initAndFetch",function(){var t=Object(p.a)(x.a.mark((function t(e,n){var r,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://recruitment01.vercel.app/api/init");case 3:return r=t.sent,t.next=6,r.json();case 6:a=t.sent,n.dispatch(w(a.id)),t.next=13;break;case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",n.rejectWithValue(t.t0));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}())),k=Object(g.c)({name:"canvas",initialState:v,reducers:{updateProject:function(t,e){t.projectData=e.payload}},extraReducers:function(t){t.addCase(w.pending,(function(t){t.status=r.loading,t.error=m})).addCase(w.fulfilled,(function(t,e){t.status=r.idle,t.error=m,t.projectData=e.payload})).addCase(w.rejected,(function(t,e){t.error=e.payload,t.projectData=Object(l.a)({},O)}))}}),D=(k.actions.updateProject,function(t){return t.canvas.projectData.project}),S=function(t){return t.canvas.status},C=function(t){return t.canvas.error},M=k.reducer,z=n(1);!function(t){t.width="width",t.height="height"}(f||(f={}));var I=function(t,e){var n=t.rotation-360*Math.floor(t.rotation/360),r=t.width,a=t.height,i=Math.abs(Math.cos(Math.PI*n/180)),c=Math.abs(Math.sin(Math.PI*n/180));return e===f.height?r*c+a*i:r*i+a*c};function W(t){var e,n=t.rectData,r=n.x,a=n.y,i=n.width,c=n.height,o=n.rotation,s=n.color,h=function(t,e){return"translate(".concat(t,", ").concat(e,")")},d=Object(l.a)(Object(l.a)({},t.rectData),{},{width:I(t.rectData,f.width),height:I(t.rectData,f.height)}),j=function(t){var e=t.substring(1,7);return.299*parseInt(e.substring(0,2),16)+.587*parseInt(e.substring(2,4),16)+.114*parseInt(e.substring(4,6),16)>186?"#000000":"#ffffff"}(s);return Object(z.jsxs)("g",{children:[Object(z.jsx)("rect",{fill:"none",strokeWidth:"2",stroke:"red",x:r,y:a,width:d.width,height:d.height,transform:h(-d.width/2,-d.height/2)}),Object(z.jsx)("rect",{fill:s,width:i,height:c,transform:(e=t.rectData,"".concat(h(e.x,e.y)," ").concat(function(t){return"rotate(".concat(t,")")}(e.rotation)," ").concat(h(-e.width/2,-e.height/2)))}),Object(z.jsx)("circle",{cx:r,cy:a,r:"4",fill:j}),Object(z.jsxs)("text",{x:r+10,y:a+10,fill:j,children:[o,"\xb0"]})]})}function B(t){var e=t.viewData,n=e.width,r=e.height;return Object(z.jsx)("svg",{viewBox:function(t,e){return"0 0 ".concat(t," ").concat(e)}(n,r),width:"100%",height:"100%",children:t.items.map((function(t){return Object(z.jsx)(W,{rectData:t})}))})}var F,P,A,J,R,V,E=n(13),H=n(14),L=H.a.div(F||(F=Object(E.a)(["\n    width: 100%;\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]))),N=H.a.div(P||(P=Object(E.a)(["\n    width: auto;\n    height: 70%;\n    background: white;\n    border: 1px solid #777;\n    box-shadow: 0 0 20px #ddd;\n    margin: 1em;\n\n    @media (max-width: 768px) {\n        height: 50%;\n    }\n"]))),T=H.a.button(A||(A=Object(E.a)(["\n    padding: 10px 24px;\n    background: #55aa88;\n    border: none;\n    color: black;\n    border-radius: 0 7px 7px 0;\n    font-size: 1.1em;\n    cursor: pointer;\n    margin-right: 1em;\n\n    &:hover {\n        opacity: 0.8;\n    }\n"]))),$=H.a.input(J||(J=Object(E.a)(["\n    padding: 10px;\n    border: 1px #888 solid;\n    border-radius: 7px 0 0 7px;\n"]))),q=H.a.div(R||(R=Object(E.a)(['\n    display: flex;\n    justify-content: space-evenly;\n    align-items: center;\n    width: 50%;\n    margin: 0 auto;\n\n    @media (max-width: 768px) {\n        margin: 0;\n        width: 100%;\n    \n        & input[type="number"] {\n            width: 30%;\n        }\n    }\n']))),G=H.a.div(V||(V=Object(E.a)(["\n    background: white;\n    margin: 2em auto;\n    width: 80vw;\n    height: 60vh;\n    border: 1px solid #777;\n    box-shadow: 0 0 20px #ddd;\n\n    @media (max-width: 768px) {\n        & h3 {\n            margin: 0.3em auto;\n        }\n    }\n"])));function K(){var t=u(D),e=u(S),n=u(C),i=Object(j.b)(),c=Object(a.useState)(""),o=Object(d.a)(c,2),h=o[0],l=o[1];return Object(z.jsxs)(L,{children:[Object(z.jsx)(s.b,{to:"/playground",children:"Playground"}),Object(z.jsxs)("div",{style:{display:"flex"},children:[Object(z.jsx)($,{type:"text",placeholder:"enter project id",value:h,onChange:function(t){return l(t.target.value)}}),Object(z.jsx)(T,{onClick:function(){i(h?w(h):y())},children:"Fetch"})]}),n&&n.message?Object(z.jsx)("h2",{style:{color:"red"},children:n.message}):e===r.loading?Object(z.jsx)("h2",{children:"Loading..."}):Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)("span",{style:{margin:"10px auto",fontWeight:700},children:t.name}),Object(z.jsx)(N,{children:Object(z.jsx)(B,{items:t.items,viewData:{width:t.width,height:t.height}})})]})]})}function Q(){var t=Object(a.useState)(0),e=Object(d.a)(t,2),n=e[0],r=e[1],i=Object(a.useState)(200),c=Object(d.a)(i,2),o=c[0],h=c[1],j=Object(a.useState)(300),u=Object(d.a)(j,2),b=u[0],x=u[1],p=function(t,e,n){return!t||t<e?e:t>n?n:t},g=function(t){r(p(t.target.value,0,360))},O=function(t){h(p(t.target.value,100,400))},m=function(t){x(p(t.target.value,100,400))},v={id:"1",width:o,height:b,x:300,y:300,color:"#33ca90",rotation:n},w=Object(l.a)(Object(l.a)({},v),{},{width:I(v,f.width),height:I(v,f.height)});return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(s.b,{style:{marginTop:"20px"},to:"/",children:"Back"}),Object(z.jsxs)(G,{children:[Object(z.jsxs)("svg",{viewBox:"0 0 600 600",width:"100%",height:"100%",children:[Object(z.jsx)(W,{rectData:v}),Object(z.jsx)("text",{x:"-500",y:"100",fontSize:"1.4em",fill:"black",children:"border width"}),Object(z.jsx)("text",{x:"-500",y:"130",fontSize:"1.2em",fill:"black",children:"width*cos(alpha) + height*sin(alpha)"}),Object(z.jsx)("text",{x:"-300",y:"100",fontSize:"1.2em",fill:"red",children:w.width.toFixed(2)}),Object(z.jsx)("text",{x:"-500",y:"210",fontSize:"1.4em",fill:"black",children:"border height"}),Object(z.jsx)("text",{x:"-500",y:"240",fontSize:"1.2em",fill:"black",children:"width*sin(alpha) + height*cos(alpha)"}),Object(z.jsx)("text",{x:"-300",y:"210",fontSize:"1.2em",fill:"red",children:w.height.toFixed(2)})]}),Object(z.jsx)("h3",{children:"Rotation"}),Object(z.jsxs)(q,{children:[Object(z.jsx)("input",{type:"range",id:"rotation",name:"rotation",min:"0",max:"360",value:n,step:"1",onChange:g}),Object(z.jsx)($,{type:"number",value:n,min:"0",max:"360",onChange:g})]}),Object(z.jsx)("h3",{children:"Width"}),Object(z.jsxs)(q,{children:[Object(z.jsx)("input",{type:"range",id:"width",name:"width",min:"100",max:"400",value:o,step:"1",onChange:O}),Object(z.jsx)($,{type:"number",value:o,min:"100",max:"400",onChange:O})]}),Object(z.jsx)("h3",{children:"Height"}),Object(z.jsxs)(q,{children:[Object(z.jsx)("input",{type:"range",id:"height",name:"height",min:"100",max:"400",value:b,step:"1",onChange:m}),Object(z.jsx)($,{type:"number",value:b,min:"100",max:"400",onChange:m})]})]})]})}var U=function(){return Object(z.jsx)("div",{className:"App",children:Object(z.jsx)(s.a,{children:Object(z.jsxs)(h.d,{children:[Object(z.jsx)(h.a,{exact:!0,from:"/",to:"/rectangles"}),Object(z.jsx)(h.b,{path:"/playground",children:Object(z.jsx)(Q,{})}),Object(z.jsx)(h.b,{path:"/rectangles",children:Object(z.jsx)(K,{})})]})})})},X=Object(g.a)({reducer:{canvas:M}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(z.jsx)(i.a.StrictMode,{children:Object(z.jsx)(j.a,{store:X,children:Object(z.jsx)(U,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[43,1,2]]]);
//# sourceMappingURL=main.a3adcfb7.chunk.js.map